<ng-container *ngIf="vm$ | async as vm">
  <form #signInForm="ngForm">
    <div class="mb-3 row">
      <label for="username" class="col-sm-2 col-form-label">Username</label>
      <div class="col-sm-10">
        <input
          type="text"
          name="username"
          class="form-control"
          id="username"
          required
          [(ngModel)]="signInData.username"
          #usernameCtrl="ngModel"
        />
      </div>
      <div class="invalid" *ngIf="usernameCtrl.invalid && usernameCtrl.dirty">
        <p>Email is required!</p>
      </div>
    </div>
    <div class="mb-3 row">
      <label for="inputPassword" class="col-sm-2 col-form-label"
        >Password</label
      >
      <div class="col-sm-10">
        <input
          name="password"
          type="password"
          class="form-control"
          id="inputPassword"
          required
          [(ngModel)]="signInData.password"
          #passwordCtrl="ngModel"
        />
      </div>
      <div class="invalid" *ngIf="passwordCtrl.invalid && passwordCtrl.dirty">
        <p>Password is required!</p>
      </div>
    </div>
    <div class="invalid" *ngIf="vm.errorMsg">
      {{ vm.errorMsg }}
    </div>
    <button
      class="btn btn-primary"
      (click)="onSubmit()"
      [disabled]="signInForm.invalid"
    >
      <ng-container *ngIf="!vm.loading">Sign in</ng-container>
      <ng-container *ngIf="vm.loading">
        <span
          class="spinner-border spinner-border-sm"
          role="status"
          aria-hidden="true"
        ></span>
        Loading...
      </ng-container>
    </button>
  </form>
</ng-container>
